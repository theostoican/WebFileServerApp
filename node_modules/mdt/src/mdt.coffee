fs = require 'fs'
path = require 'path'
marked = require 'marked'


module.exports = (render)->

    marked.Lexer::token = require '../lib/token'
    marked.Parser::tok = require '../lib/tok'
    renderer = require '../lib/renderer'
    
    
    for key, value of renderer
        marked.Renderer::[key] = value

    if '[object Object]' is Object::toString.call render
        for key, value of render
            marked.Renderer::[key] = value

    marked
